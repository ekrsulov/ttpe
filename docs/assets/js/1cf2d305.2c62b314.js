"use strict";(self.webpackChunkttpe_docs=self.webpackChunkttpe_docs||[]).push([[9497],{5438:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"app-structure/overview","title":"Application Structure Overview","description":"TTPE is a React-based vector graphics editor with a modular architecture. This page provides a visual overview of how the major UI components are organized and interact.","source":"@site/docs/app-structure/overview.md","sourceDirName":"app-structure","slug":"/app-structure/overview","permalink":"/ttpe/docs/docs/app-structure/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/ekrsulov/ttpe/tree/main/doc/docs/app-structure/overview.md","tags":[],"version":"current","lastUpdatedBy":"Ernesto Krsulovic","lastUpdatedAt":1762144584000,"frontMatter":{"id":"overview","title":"Application Structure Overview","sidebar_label":"Overview"},"sidebar":"docs","previous":{"title":"Introduction","permalink":"/ttpe/docs/docs/"},"next":{"title":"Canvas","permalink":"/ttpe/docs/docs/app-structure/canvas"}}');var r=i(4848),s=i(8453);const o={id:"overview",title:"Application Structure Overview",sidebar_label:"Overview"},l="Application Structure Overview",a={},c=[{value:"Visual Layout",id:"visual-layout",level:2},{value:"Component Hierarchy",id:"component-hierarchy",level:2},{value:"Layout Zones",id:"layout-zones",level:2},{value:"1. Canvas Zone (Center)",id:"1-canvas-zone-center",level:3},{value:"2. Action Bars Zone (Overlay)",id:"2-action-bars-zone-overlay",level:3},{value:"3. Sidebar Zone (Right)",id:"3-sidebar-zone-right",level:3},{value:"4. Minimap Zone (Bottom-Right)",id:"4-minimap-zone-bottom-right",level:3},{value:"5. Virtual Shift Button Zone (Bottom-Right)",id:"5-virtual-shift-button-zone-bottom-right",level:3},{value:"Responsive Breakpoints",id:"responsive-breakpoints",level:2},{value:"State Management",id:"state-management",level:2},{value:"Plugin Integration",id:"plugin-integration",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Visual Summary",id:"visual-summary",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"application-structure-overview",children:"Application Structure Overview"})}),"\n",(0,r.jsxs)(e.p,{children:["TTPE is a ",(0,r.jsx)(e.strong,{children:"React-based vector graphics editor"})," with a modular architecture. This page provides a visual overview of how the major UI components are organized and interact."]}),"\n",(0,r.jsx)(e.h2,{id:"visual-layout",children:"Visual Layout"}),"\n",(0,r.jsx)(e.p,{children:"The application consists of several key areas that work together to provide the editing experience:"}),"\n",(0,r.jsx)(e.mermaid,{value:'graph TB\n    subgraph App["TTPE Application Window"]\n        direction TB\n        \n        TopBar[Top Action Bar<br/>Tool Selection]\n        \n        subgraph Layout["Main Layout"]\n            direction LR\n            \n            subgraph Canvas["Canvas Area (Full Screen)"]\n                direction TB\n                CanvasMain[Canvas Component<br/>SVG Rendering]\n                CanvasSpace1[ ]\n                CanvasSpace2[ ]\n                Minimap[Minimap Plugin<br/>Viewport Overview]\n                VirtualShift[Virtual Shift Button<br/>Mobile Only]\n                \n                style CanvasSpace1 fill:none,stroke:none\n                style CanvasSpace2 fill:none,stroke:none\n            end\n            \n            subgraph Sidebar["Sidebar (Right)"]\n                direction TB\n                ResizeHandle[Resize Handle<br/>Desktop Only]\n                ToolGrid[Tool Grid<br/>Mode Selection]\n                \n                subgraph MainPanels["Main Panel Area (Scrollable)"]\n                    direction TB\n                    EditorPanel[Editor Panel<br/>Stroke/Fill/Opacity]\n                    PluginPanels[Plugin-Specific Panels<br/>Edit/Pencil/Text/Shape/etc.]\n                    SpecialPanels[Special Panels<br/>File/Settings]\n                end\n                \n                subgraph BottomSection["Bottom Section (Fixed)"]\n                    direction TB\n                    ArrangePanel[Arrange Panel<br/>Collapsible]\n                    ToggleBtn[Toggle Button]\n                    SelectPanel[Select Panel<br/>Always Visible]\n                end\n            end\n        end\n        \n        BottomBar[Bottom Action Bar<br/>Undo/Redo/Zoom/Delete]\n    end\n    \n    TopBar -.-> CanvasMain\n    ToolGrid -.-> CanvasMain\n    EditorPanel -.-> CanvasMain\n    PluginPanels -.-> CanvasMain\n    ArrangePanel -.-> CanvasMain\n    SelectPanel -.-> CanvasMain\n    BottomBar -.-> CanvasMain\n    \n    CanvasMain ~~~ CanvasSpace1\n    CanvasSpace1 ~~~ CanvasSpace2\n    CanvasSpace2 ~~~ Minimap\n    Minimap ~~~ VirtualShift'}),"\n",(0,r.jsx)(e.h2,{id:"component-hierarchy",children:"Component Hierarchy"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"App.tsx\n\u251c\u2500\u2500 Canvas (Full viewport)\n\u2502   \u251c\u2500\u2500 CanvasStage (SVG rendering)\n\u2502   \u251c\u2500\u2500 CanvasLayers (Plugin overlays)\n\u2502   \u2514\u2500\u2500 Event Handlers (Pointer/Touch/Keyboard)\n\u2502\n\u251c\u2500\u2500 Top Action Bar (Floating, top)\n\u2502   \u251c\u2500\u2500 Tool Buttons (Select, Pencil, Edit, etc.)\n\u2502   \u251c\u2500\u2500 Menu Button (Drawer mode only)\n\u2502   \u2514\u2500\u2500 Animated Background (Active tool indicator)\n\u2502\n\u251c\u2500\u2500 Bottom Action Bar (Floating, bottom)\n\u2502   \u251c\u2500\u2500 Undo/Redo Buttons (with counters)\n\u2502   \u251c\u2500\u2500 Zoom Controls (Out/Reset/In)\n\u2502   \u2514\u2500\u2500 Delete Button (with counter)\n\u2502\n\u251c\u2500\u2500 Sidebar (Right, pinned or drawer)\n\u2502   \u251c\u2500\u2500 Resize Handle (Pinned mode, desktop)\n\u2502   \u251c\u2500\u2500 Tool Grid (Fixed, top)\n\u2502   \u2502   \u251c\u2500\u2500 Mode Buttons (9 modes)\n\u2502   \u2502   \u2514\u2500\u2500 Pin Toggle (Desktop)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Main Panel Area (Scrollable)\n\u2502   \u2502   \u251c\u2500\u2500 Editor Panel (Transversal)\n\u2502   \u2502   \u251c\u2500\u2500 Plugin Panels (Mode-specific)\n\u2502   \u2502   \u2514\u2500\u2500 Special Panels (File/Settings)\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Bottom Section (Fixed, bottom)\n\u2502       \u251c\u2500\u2500 Arrange Panel (Collapsible, when selected)\n\u2502       \u251c\u2500\u2500 Toggle Button (Expand/Collapse)\n\u2502       \u2514\u2500\u2500 Select Panel (Always visible)\n\u2502\n\u251c\u2500\u2500 Minimap (Bottom-right corner, optional)\n\u2502   \u2514\u2500\u2500 Viewport rectangle overlay\n\u2502\n\u2514\u2500\u2500 Virtual Shift Button (Bottom-right, mobile only)\n    \u2514\u2500\u2500 Constraint modifier for drawing\n"})}),"\n",(0,r.jsx)(e.h2,{id:"layout-zones",children:"Layout Zones"}),"\n",(0,r.jsx)(e.p,{children:"The application UI can be divided into several functional zones:"}),"\n",(0,r.jsx)(e.h3,{id:"1-canvas-zone-center",children:"1. Canvas Zone (Center)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Position"}),": Full viewport, ",(0,r.jsx)(e.code,{children:"position: relative"}),"\n",(0,r.jsx)(e.strong,{children:"Z-index"}),": Base layer (z-index: 0)"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Contains"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"SVG canvas for element rendering"}),"\n",(0,r.jsx)(e.li,{children:"Plugin overlay layers"}),"\n",(0,r.jsx)(e.li,{children:"Event capture surface"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Characteristics"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Infinite scrollable workspace"}),"\n",(0,r.jsx)(e.li,{children:"Viewport-based pan and zoom"}),"\n",(0,r.jsx)(e.li,{children:"Plugin-specific overlays (selection, handles, guidelines, grid)"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"2-action-bars-zone-overlay",children:"2. Action Bars Zone (Overlay)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Position"}),": Floating overlays, ",(0,r.jsx)(e.code,{children:"position: fixed"}),"\n",(0,r.jsx)(e.strong,{children:"Z-index"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Top Bar: 999"}),"\n",(0,r.jsx)(e.li,{children:"Bottom Bar: 1000"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Top Action Bar"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Horizontal position: Adjusts based on sidebar width"}),"\n",(0,r.jsx)(e.li,{children:"When sidebar pinned: Offset from left by sidebar width"}),"\n",(0,r.jsx)(e.li,{children:"When sidebar unpinned: Centered"}),"\n",(0,r.jsx)(e.li,{children:"Vertical: Top of screen with responsive spacing"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Bottom Action Bar"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Horizontal position: Same logic as Top Bar"}),"\n",(0,r.jsx)(e.li,{children:"Vertical: Bottom of screen with responsive spacing"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Responsive Behavior"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Spacing adapts via Chakra breakpoints (",(0,r.jsx)(e.code,{children:"{ base: X, md: Y }"}),")"]}),"\n",(0,r.jsx)(e.li,{children:"No button hiding or wrapping - all controls always visible"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"3-sidebar-zone-right",children:"3. Sidebar Zone (Right)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Position"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Desktop Pinned: ",(0,r.jsx)(e.code,{children:"position: fixed"}),", right: 0"]}),"\n",(0,r.jsx)(e.li,{children:"Mobile Drawer: Chakra Drawer component (slides in/out)"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Z-index"}),": 1000"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Desktop Pinned Mode"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Width: 260px - 600px (resizable)"}),"\n",(0,r.jsx)(e.li,{children:"Height: 100vh"}),"\n",(0,r.jsx)(e.li,{children:"Resize handle on left edge (double-click to reset)"}),"\n",(0,r.jsx)(e.li,{children:"Action bars offset to avoid overlap"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Mobile Drawer Mode"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Width: 280px (fixed)"}),"\n",(0,r.jsx)(e.li,{children:"Slides in from right"}),"\n",(0,r.jsx)(e.li,{children:"Overlay backdrop (semi-transparent)"}),"\n",(0,r.jsx)(e.li,{children:"Not resizable"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Internal Layout"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Tool Grid (Fixed Top)       \u2502 \u2190 Mode selection buttons\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                             \u2502\n\u2502 Main Panel Area             \u2502 \u2190 Scrollable content\n\u2502 (Scrollable)                \u2502   Editor + Plugin panels\n\u2502                             \u2502\n\u2502 (Uses padding-bottom equal  \u2502\n\u2502  to footer height)          \u2502\n\u2502                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Bottom Section (Fixed)      \u2502 \u2190 Arrange + Select panels\n\u2502  - Arrange (Collapsible)    \u2502\n\u2502  - Toggle Button            \u2502\n\u2502  - Select (Always visible)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"4-minimap-zone-bottom-right",children:"4. Minimap Zone (Bottom-Right)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Position"}),": ",(0,r.jsx)(e.code,{children:"position: fixed"}),", bottom-right corner\n",(0,r.jsx)(e.strong,{children:"Z-index"}),": 1001"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Visibility"}),": Optional, toggleable in Settings Panel"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Small canvas preview"}),"\n",(0,r.jsx)(e.li,{children:"Viewport rectangle indicator"}),"\n",(0,r.jsx)(e.li,{children:"Click to pan viewport"}),"\n",(0,r.jsx)(e.li,{children:"Desktop only (hidden on mobile)"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"5-virtual-shift-button-zone-bottom-right",children:"5. Virtual Shift Button Zone (Bottom-Right)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Position"}),": ",(0,r.jsx)(e.code,{children:"position: fixed"}),", bottom-right (above minimap if both visible)\n",(0,r.jsx)(e.strong,{children:"Z-index"}),": 1002"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Visibility"}),": Mobile only (",(0,r.jsx)(e.code,{children:"< 768px"}),")"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Purpose"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Constraint modifier for drawing"}),"\n",(0,r.jsx)(e.li,{children:"Emulates Shift key hold"}),"\n",(0,r.jsx)(e.li,{children:"Used with tools that support constraints (line angles, proportional scaling)"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"responsive-breakpoints",children:"Responsive Breakpoints"}),"\n",(0,r.jsxs)(e.p,{children:["TTPE uses ",(0,r.jsx)(e.strong,{children:"Chakra UI breakpoints"})," for responsive design:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"breakpoints: {\n  base: '0em',    // 0px - Mobile\n  sm: '30em',     // ~480px - Large mobile\n  md: '48em',     // ~768px - Tablet/Desktop threshold\n  lg: '64em',     // ~1024px - Desktop\n  xl: '80em',     // ~1280px - Large desktop\n  '2xl': '96em',  // ~1536px - Extra large\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsxs)(e.strong,{children:["Key Breakpoint: ",(0,r.jsx)(e.code,{children:"md"})," (768px)"]})}),"\n",(0,r.jsx)(e.p,{children:"Below 768px (Mobile):"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Sidebar switches to drawer mode"}),"\n",(0,r.jsx)(e.li,{children:"Tooltips disabled"}),"\n",(0,r.jsx)(e.li,{children:"Virtual Shift button appears"}),"\n",(0,r.jsx)(e.li,{children:"Action bar spacing reduces"}),"\n",(0,r.jsx)(e.li,{children:"Minimap hidden"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Above 768px (Desktop):"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Sidebar defaults to pinned mode"}),"\n",(0,r.jsx)(e.li,{children:"Tooltips enabled"}),"\n",(0,r.jsx)(e.li,{children:"Virtual Shift button hidden"}),"\n",(0,r.jsx)(e.li,{children:"Action bar spacing increases"}),"\n",(0,r.jsx)(e.li,{children:"Minimap available"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"state-management",children:"State Management"}),"\n",(0,r.jsxs)(e.p,{children:["All major components share state through ",(0,r.jsx)(e.strong,{children:"Canvas Store"})," (Zustand):"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"Canvas Store (Zustand)\n\u251c\u2500\u2500 Elements (paths, groups, shapes, text)\n\u251c\u2500\u2500 Viewport (pan, zoom, offsetX, offsetY)\n\u251c\u2500\u2500 Selection (selectedIds, selectedCommands, selectedSubpaths)\n\u251c\u2500\u2500 Active Plugin (select, pencil, edit, etc.)\n\u251c\u2500\u2500 Sidebar (width, panel visibility)\n\u251c\u2500\u2500 Settings (theme, grid, defaults)\n\u251c\u2500\u2500 History (undo/redo via temporal middleware)\n\u2514\u2500\u2500 Plugin State (pencil, edit, curves, etc.)\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Key Features"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Granular selectors"}),": Components subscribe to specific state slices"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Temporal middleware"}),": Automatic undo/redo tracking"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Persistence"}),": Selected state persisted to localStorage"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Actions"}),": Colocated with state for predictable updates"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"plugin-integration",children:"Plugin Integration"}),"\n",(0,r.jsx)(e.p,{children:"Plugins extend the application through multiple integration points:"}),"\n",(0,r.jsx)(e.mermaid,{value:"graph LR\n    Plugin[Plugin] --\x3e ToolDef[Tool Definition<br/>toolDefinitions.ts]\n    Plugin --\x3e SidebarPanel[Sidebar Panel<br/>panelConfig.tsx]\n    Plugin --\x3e CanvasLayer[Canvas Layer<br/>Plugin Manager]\n    Plugin --\x3e EventBus[Event Bus<br/>Subscriptions]\n    Plugin --\x3e StoreSlice[Store Slice<br/>Plugin State]\n    \n    ToolDef --\x3e TopBar[Top Action Bar]\n    SidebarPanel --\x3e Sidebar[Sidebar]\n    CanvasLayer --\x3e Canvas[Canvas]\n    EventBus --\x3e Canvas\n    StoreSlice --\x3e Store[Canvas Store]"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Plugin Lifecycle"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Registration"}),": Plugin registers with Plugin Manager"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Tool Definition"}),": Metadata (icon, label, cursor) added to ",(0,r.jsx)(e.code,{children:"toolDefinitions.ts"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Panel Registration"}),": Panel component added to ",(0,r.jsx)(e.code,{children:"panelConfig.tsx"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Layer Registration"}),": Canvas overlay layer (optional)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Event Subscription"}),": Subscribe to pointer/touch events via Event Bus"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"State Management"}),": Plugin state slice in Canvas Store"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"src/\n\u251c\u2500\u2500 App.tsx                          # Root component\n\u251c\u2500\u2500 canvas/                          # Canvas component and hooks\n\u2502   \u251c\u2500\u2500 Canvas.tsx                   # Main canvas component\n\u2502   \u251c\u2500\u2500 components/                  # CanvasStage, CanvasLayers\n\u2502   \u251c\u2500\u2500 hooks/                       # 24+ specialized hooks\n\u2502   \u251c\u2500\u2500 renderers/                   # Element rendering registry\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 sidebar/                         # Sidebar container and panels\n\u2502   \u251c\u2500\u2500 Sidebar.tsx                  # Main sidebar component\n\u2502   \u251c\u2500\u2500 components/                  # SidebarContent, SidebarFooter, etc.\n\u2502   \u2514\u2500\u2500 panels/                      # Editor, Select, Arrange, File, Settings\n\u2502\n\u251c\u2500\u2500 ui/                              # UI components and action bars\n\u2502   \u251c\u2500\u2500 TopActionBar.tsx             # Top action bar\n\u2502   \u251c\u2500\u2500 BottomActionBar.tsx          # Bottom action bar\n\u2502   \u251c\u2500\u2500 FloatingToolbarShell.tsx     # Shared toolbar wrapper\n\u2502   \u2514\u2500\u2500 ...                          # Buttons, sliders, selectors, etc.\n\u2502\n\u251c\u2500\u2500 plugins/                         # Plugin implementations\n\u2502   \u251c\u2500\u2500 select/                      # Select plugin\n\u2502   \u251c\u2500\u2500 pencil/                      # Pencil plugin\n\u2502   \u251c\u2500\u2500 edit/                        # Edit plugin\n\u2502   \u251c\u2500\u2500 curves/                      # Curves plugin\n\u2502   \u2514\u2500\u2500 ...                          # Text, Shape, Transformation, etc.\n\u2502\n\u251c\u2500\u2500 store/                           # State management\n\u2502   \u2514\u2500\u2500 canvasStore.ts               # Zustand store with slices\n\u2502\n\u251c\u2500\u2500 config/                          # Configuration\n\u2502   \u2514\u2500\u2500 toolDefinitions.ts           # Tool metadata for Top Action Bar\n\u2502\n\u2514\u2500\u2500 utils/                           # Utilities\n    \u2514\u2500\u2500 pluginManager.ts             # Plugin registration and lifecycle\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/app-structure/canvas",children:"Canvas"})," - Canvas component architecture"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/app-structure/actionbars",children:"Action Bars"})," - Top and Bottom action bars"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/app-structure/sidebar",children:"Sidebar"})," - Sidebar panels and layout"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/app-structure/file-panel",children:"File Panel"})," - Import/export operations"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/app-structure/settings-panel",children:"Settings Panel"})," - Application preferences"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/plugins/overview",children:"Plugin System"})," - Plugin architecture"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/ttpe/docs/docs/ui/components",children:"UI Components"})," - Reusable UI components"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"visual-summary",children:"Visual Summary"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Canvas (Infinite SVG Workspace)                                \u2502\n\u2502                                                                 \u2502\n\u2502  \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557  \u2502\n\u2502  \u2551 Top Action Bar (Floating)                                 \u2551  \u2502\n\u2502  \u2551 [Select][Subpath][Transform][Edit][Pan][Pencil]...[Menu]  \u2551  \u2502\n\u2502  \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d  \u2502\n\u2502                                                                 \u2502\n\u2502                                                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502                                                \u2502 Sidebar     \u2502  \u2502\n\u2502                                                \u2502             \u2502  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                            \u2502 Tool Grid   \u2502  \u2502\n\u2502     \u2502 Elements    \u2502                            \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502  \u2502\n\u2502     \u2502 + Plugin    \u2502                            \u2502             \u2502  \u2502\n\u2502     \u2502 Overlays    \u2502                            \u2502             \u2502  \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                            \u2502             \u2502  \u2502\n\u2502                                                \u2502 Main Panels \u2502  \u2502\n\u2502                                                \u2502 (Scroll)    \u2502  \u2502\n\u2502                                                \u2502             \u2502  \u2502\n\u2502                                                \u2502 \u2022 Editor    \u2502  \u2502\n\u2502                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502 \u2022 Plugin    \u2502  \u2502\n\u2502                      \u2502 Minimap      \u2502          \u2502   Panels    \u2502  \u2502\n\u2502                      \u2502 (Optional)   \u2502          \u2502             \u2502  \u2502\n\u2502                      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502  \u2502\n\u2502                      \u2502 [\u21e7] Virtual  \u2502          \u2502 Bottom      \u2502  \u2502\n\u2502                      \u2502  Shift Btn   \u2502          \u2502 (Fixed)     \u2502  \u2502\n\u2502                      \u2502 (Mobile)     \u2502          \u2502             \u2502  \u2502\n\u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502 \u2022 Arrange   \u2502  \u2502\n\u2502                                                \u2502   [Toggle]  \u2502  \u2502\n\u2502                                                \u2502 \u2022 Select    \u2502  \u2502\n\u2502                                                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                 \u2502\n\u2502  \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557  \u2502\n\u2502  \u2551 Bottom Action Bar (Floating)                              \u2551  \u2502\n\u2502  \u2551 [Undo][Redo] | [ZoomOut][Reset][ZoomIn] | [Delete]        \u2551  \u2502\n\u2502  \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>l});var t=i(6540);const r={},s=t.createContext(r);function o(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);