"use strict";(self.webpackChunkttpe_docs=self.webpackChunkttpe_docs||[]).push([[4308],{1321:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"features/ordering","title":"Element Ordering","description":"The ordering system controls the visual stacking of elements on the canvas through Z-index management. Elements with higher Z-index values render on top of those with lower values, determining which shapes appear in front when they overlap.","source":"@site/docs/features/ordering.md","sourceDirName":"features","slug":"/features/ordering","permalink":"/ttpe/docs/features/ordering","draft":false,"unlisted":false,"editUrl":"https://github.com/ekrsulov/ttpe/tree/main/doc/docs/features/ordering.md","tags":[],"version":"current","lastUpdatedBy":"Ernesto Krsulovic","lastUpdatedAt":1762144179000,"frontMatter":{"id":"ordering","title":"Element Ordering","sidebar_label":"Ordering"},"sidebar":"docs","previous":{"title":"Transforms","permalink":"/ttpe/docs/features/transforms"},"next":{"title":"Alignment","permalink":"/ttpe/docs/features/alignment"}}');var s=t(4848),i=t(8453);const l={id:"ordering",title:"Element Ordering",sidebar_label:"Ordering"},a="Element Ordering (Z-Index)",d={},o=[{value:"Overview",id:"overview",level:2},{value:"Z-Index Stack Visualization",id:"z-index-stack-visualization",level:2},{value:"Ordering Operations",id:"ordering-operations",level:2},{value:"Bring to Front",id:"bring-to-front",level:3},{value:"Bring Forward",id:"bring-forward",level:3},{value:"Send Backward",id:"send-backward",level:3},{value:"Send to Back",id:"send-to-back",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Element Ordering",id:"element-ordering",level:3},{value:"Subpath Ordering",id:"subpath-ordering",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Z-Index Control",id:"basic-z-index-control",level:3},{value:"Incremental Layer Adjustment",id:"incremental-layer-adjustment",level:3},{value:"Multi-Element Ordering",id:"multi-element-ordering",level:3},{value:"Subpath Ordering",id:"subpath-ordering-1",level:3},{value:"UI Integration",id:"ui-integration",level:2},{value:"Z-Index Normalization",id:"z-index-normalization",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"For Users",id:"for-users",level:3},{value:"For Plugin Developers",id:"for-plugin-developers",level:3},{value:"Common Use Cases",id:"common-use-cases",level:2},{value:"Layer Organization",id:"layer-organization",level:3},{value:"Fine-Tuning Overlaps",id:"fine-tuning-overlaps",level:3},{value:"Subpath Rendering Order",id:"subpath-rendering-order",level:3},{value:"Creating Depth Hierarchy",id:"creating-depth-hierarchy",level:3},{value:"Testing",id:"testing",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"element-ordering-z-index",children:"Element Ordering (Z-Index)"})}),"\n",(0,s.jsxs)(n.p,{children:["The ordering system controls the ",(0,s.jsx)(n.strong,{children:"visual stacking"})," of elements on the canvas through Z-index management. Elements with higher Z-index values render on top of those with lower values, determining which shapes appear in front when they overlap."]}),"\n",(0,s.jsx)(n.p,{children:"Z-index ordering is fundamental to layer management in vector editors, allowing users to control occlusion relationships, create depth hierarchies, and organize complex compositions. The system provides four operations for moving elements up or down the rendering stack, with support for multi-element selection and atomic undo/redo."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Z-index"})," is a numeric value assigned to each canvas element that determines its rendering order. Elements are drawn from ",(0,s.jsx)(n.strong,{children:"lowest to highest"}),' Z-index, meaning higher values appear "on top" of lower ones.']}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key characteristics:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stack-based model"}),": Elements are organized in a rendering stack"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integer values"}),": Z-index uses integer values for precise layer control"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Root-level only"}),": Ordering applies to root elements (not children within groups)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multi-selection support"}),": Operations can move multiple elements simultaneously"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Undo/redo integrated"}),": All operations are recorded in history stack"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Relative positioning"}),": Forward/backward operations maintain element relationships"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"z-index-stack-visualization",children:"Z-Index Stack Visualization"}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TB\n    subgraph "Canvas Rendering Stack"\n        direction TB\n        Z5[Element 5 - zIndex: 4<br/>Renders on top]\n        Z4[Element 4 - zIndex: 3]\n        Z3[Element 3 - zIndex: 2]\n        Z2[Element 2 - zIndex: 1]\n        Z1[Element 1 - zIndex: 0<br/>Renders first bottom]\n    end\n    \n    subgraph "Operations"\n        direction TB\n        BF[Bring to Front<br/>\u2192 Move to highest Z]\n        FW[Bring Forward<br/>\u2192 Swap with element above]\n        BW[Send Backward<br/>\u2192 Swap with element below]\n        SB[Send to Back<br/>\u2192 Move to lowest Z]\n    end\n    \n    BF -.->|Sets zIndex = max + 1| Z5\n    FW -.->|Swaps Z-index| Z4\n    BW -.->|Swaps Z-index| Z2\n    SB -.->|Sets zIndex = min - 1| Z1\n    \n    style Z5 fill:#4caf50\n    style Z1 fill:#f44336\n    style BF fill:#2196f3\n    style SB fill:#ff9800'}),"\n",(0,s.jsx)(n.h2,{id:"ordering-operations",children:"Ordering Operations"}),"\n",(0,s.jsx)(n.h3,{id:"bring-to-front",children:"Bring to Front"}),"\n",(0,s.jsxs)(n.p,{children:["Moves selected element(s) to the ",(0,s.jsx)(n.strong,{children:"top of the rendering stack"}),", giving them the highest Z-index value(s). This operation makes elements appear above all others."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"maxZIndex = max(all root elements' Z-index values)\nfor each selected element:\n  element.zIndex = maxZIndex + elementIndex + 1\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets Z-index above all other root elements"}),"\n",(0,s.jsx)(n.li,{children:"Maintains relative order among selected elements"}),"\n",(0,s.jsx)(n.li,{children:"Multiple selections move as a block to the top"}),"\n",(0,s.jsx)(n.li,{children:"Ignores child elements within groups"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Keyboard shortcut:"})," Often mapped to ",(0,s.jsx)(n.code,{children:"Shift + Ctrl + ]"})," or ",(0,s.jsx)(n.code,{children:"Cmd + ]"})]}),"\n",(0,s.jsx)(n.h3,{id:"bring-forward",children:"Bring Forward"}),"\n",(0,s.jsxs)(n.p,{children:["Moves selected element(s) ",(0,s.jsx)(n.strong,{children:"up one layer"})," by swapping Z-index with the element immediately above. If no element exists above, the operation has no effect."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"for each selected element:\n  elementsAbove = filter(elements where zIndex > current.zIndex)\n  if elementsAbove.length > 0:\n    nextElement = elementsAbove.first() // Lowest Z-index above current\n    swap(current.zIndex, nextElement.zIndex)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Swaps Z-index with the next higher element"}),"\n",(0,s.jsx)(n.li,{children:"Incremental adjustment (one layer at a time)"}),"\n",(0,s.jsx)(n.li,{children:"No effect if element is already at top"}),"\n",(0,s.jsx)(n.li,{children:"Preserves Z-index values (just swaps them)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Keyboard shortcut:"})," Often mapped to ",(0,s.jsx)(n.code,{children:"Ctrl + ]"})," or ",(0,s.jsx)(n.code,{children:"Cmd + ]"})]}),"\n",(0,s.jsx)(n.h3,{id:"send-backward",children:"Send Backward"}),"\n",(0,s.jsxs)(n.p,{children:["Moves selected element(s) ",(0,s.jsx)(n.strong,{children:"down one layer"})," by swapping Z-index with the element immediately below. If no element exists below, the operation has no effect."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"for each selected element:\n  elementsBelow = filter(elements where zIndex < current.zIndex)\n  if elementsBelow.length > 0:\n    prevElement = elementsBelow.last() // Highest Z-index below current\n    swap(current.zIndex, prevElement.zIndex)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Swaps Z-index with the next lower element"}),"\n",(0,s.jsx)(n.li,{children:"Incremental adjustment (one layer at a time)"}),"\n",(0,s.jsx)(n.li,{children:"No effect if element is already at bottom"}),"\n",(0,s.jsx)(n.li,{children:"Preserves Z-index values (just swaps them)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Keyboard shortcut:"})," Often mapped to ",(0,s.jsx)(n.code,{children:"Ctrl + ["})," or ",(0,s.jsx)(n.code,{children:"Cmd + ["})]}),"\n",(0,s.jsx)(n.h3,{id:"send-to-back",children:"Send to Back"}),"\n",(0,s.jsxs)(n.p,{children:["Moves selected element(s) to the ",(0,s.jsx)(n.strong,{children:"bottom of the rendering stack"}),", giving them the lowest Z-index value(s). This operation makes elements appear below all others."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"minZIndex = min(all root elements' Z-index values)\nfor each selected element:\n  element.zIndex = minZIndex - elementIndex - 1\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sets Z-index below all other root elements"}),"\n",(0,s.jsx)(n.li,{children:"Maintains relative order among selected elements"}),"\n",(0,s.jsx)(n.li,{children:"Multiple selections move as a block to the bottom"}),"\n",(0,s.jsx)(n.li,{children:"Ignores child elements within groups"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Keyboard shortcut:"})," Often mapped to ",(0,s.jsx)(n.code,{children:"Shift + Ctrl + ["})," or ",(0,s.jsx)(n.code,{children:"Cmd + ["})]}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsx)(n.h3,{id:"element-ordering",children:"Element Ordering"}),"\n",(0,s.jsxs)(n.p,{children:["Available in ",(0,s.jsx)(n.strong,{children:"Select"})," mode for root-level elements:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const state = useCanvasStore.getState();\n\n// Bring selected elements to front (top of stack)\nstate.bringToFront();\n\n// Move selected elements forward one layer\nstate.sendForward();\n\n// Move selected elements backward one layer\nstate.sendBackward();\n\n// Send selected elements to back (bottom of stack)\nstate.sendToBack();\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"At least 1 element must be selected"}),"\n",(0,s.jsx)(n.li,{children:"Only affects root-level elements (not children)"}),"\n",(0,s.jsx)(n.li,{children:"Operations are atomic and added to undo history"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"subpath-ordering",children:"Subpath Ordering"}),"\n",(0,s.jsxs)(n.p,{children:["Available in ",(0,s.jsx)(n.strong,{children:"Subpath"})," mode for reordering subpaths within path elements:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const state = useCanvasStore.getState();\n\n// Bring selected subpaths to front (render last)\nstate.bringSubpathToFront();\n\n// Move selected subpaths forward one position\nstate.sendSubpathForward();\n\n// Move selected subpaths backward one position\nstate.sendSubpathBackward();\n\n// Send selected subpaths to back (render first)\nstate.sendSubpathToBack();\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Reorders subpaths within the ",(0,s.jsx)(n.code,{children:"subPaths"})," array"]}),"\n",(0,s.jsx)(n.li,{children:"Earlier subpaths render first (below later ones)"}),"\n",(0,s.jsxs)(n.li,{children:["Operations update both rendering order and ",(0,s.jsx)(n.code,{children:"selectedSubpaths"})," indices"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(n.h3,{id:"basic-z-index-control",children:"Basic Z-Index Control"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Select an element and bring to front\nstate.selectElement('element-1');\nstate.bringToFront();\n\n// Select another element and send to back\nstate.selectElement('element-2');\nstate.sendToBack();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"incremental-layer-adjustment",children:"Incremental Layer Adjustment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Select element and move up one layer at a time\nstate.selectElement('element-3');\nstate.sendForward(); // Move up one layer\nstate.sendForward(); // Move up another layer\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multi-element-ordering",children:"Multi-Element Ordering"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Select multiple elements and move together\nstate.selectElement('element-1');\nstate.addToSelection('element-2');\nstate.addToSelection('element-3');\n\n// Bring all selected elements to front as a group\nstate.bringToFront();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"subpath-ordering-1",children:"Subpath Ordering"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// In subpath mode, reorder subpaths within an element\nstate.setActivePlugin('subpath');\nstate.selectSubpath({ elementId: 'path-1', subpathIndex: 0 });\nstate.addSubpathToSelection({ elementId: 'path-1', subpathIndex: 2 });\n\n// Move selected subpaths to render on top\nstate.bringSubpathToFront();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ui-integration",children:"UI Integration"}),"\n",(0,s.jsxs)(n.p,{children:["Ordering controls are located in the ",(0,s.jsx)(n.strong,{children:"Arrange Panel"})," within the sidebar:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// Order buttons in ArrangePanel.tsx\nconst orderButtons: ButtonConfig[] = [\n  { \n    handler: currentHandlers.bringToFront, \n    icon: <Triangle size={12} />, \n    title: "Bring to Front", \n    disabled: selectedCount === 0 \n  },\n  { \n    handler: currentHandlers.sendForward, \n    icon: <ChevronUp size={12} />, \n    title: "Send Forward", \n    disabled: selectedCount === 0 \n  },\n  { \n    handler: currentHandlers.sendBackward, \n    icon: <ChevronDown size={12} />, \n    title: "Send Backward", \n    disabled: selectedCount === 0 \n  },\n  { \n    handler: currentHandlers.sendToBack, \n    icon: <Triangle size={12} style={{ transform: \'rotate(180deg)\' }} />, \n    title: "Send to Back", \n    disabled: selectedCount === 0 \n  }\n];\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Button states:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enabled"}),": When 1+ elements are selected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Disabled"}),": When no elements are selected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"In edit mode"}),": Order buttons are hidden (not applicable to points)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"z-index-normalization",children:"Z-Index Normalization"}),"\n",(0,s.jsx)(n.p,{children:"The system automatically normalizes Z-index values to ensure they remain contiguous and start from 0:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// In groupSlice.ts - normalizeRootZIndices helper\nconst normalizeRootZIndices = (elements: CanvasElement[]): CanvasElement[] => {\n  const rootElements = elements\n    .filter(element => !element.parentId)\n    .sort((a, b) => a.zIndex - b.zIndex);\n\n  const zIndexMap = new Map<string, number>();\n  rootElements.forEach((element, index) => {\n    zIndexMap.set(element.id, index); // Assign sequential indices\n  });\n\n  return elements.map(element =>\n    zIndexMap.has(element.id)\n      ? { ...element, zIndex: zIndexMap.get(element.id)! }\n      : element\n  );\n};\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Normalization triggers:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"After ungrouping operations"}),"\n",(0,s.jsx)(n.li,{children:"When removing elements"}),"\n",(0,s.jsx)(n.li,{children:"On document load (to clean up gaps)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"for-users",children:"For Users"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use visual feedback"}),": Enable render order indicators (if available) to see Z-index visually"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Group before ordering"}),": Group related elements, then order the group as a unit"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use forward/backward for precision"}),": Incremental adjustments are safer than jumping to front/back"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test with overlaps"}),": Create overlapping shapes to verify stacking order"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"for-plugin-developers",children:"For Plugin Developers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate root elements"}),": Always check ",(0,s.jsx)(n.code,{children:"!element.parentId"})," before applying order operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Preserve relationships"}),": When moving multiple elements, maintain their relative Z-index order"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Normalize after bulk operations"}),": Call normalization after operations that create Z-index gaps"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integrate with undo"}),": Order operations must be recorded in undo history"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Handle edge cases"}),": Check for empty selections, single-element stacks, and boundary conditions"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-use-cases",children:"Common Use Cases"}),"\n",(0,s.jsx)(n.h3,{id:"layer-organization",children:"Layer Organization"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Organize layers in a typical structure\nstate.selectElement('background-layer');\nstate.sendToBack(); // Background at bottom\n\nstate.selectElement('foreground-layer');\nstate.bringToFront(); // Foreground on top\n"})}),"\n",(0,s.jsx)(n.h3,{id:"fine-tuning-overlaps",children:"Fine-Tuning Overlaps"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Adjust overlapping elements incrementally\nstate.selectElement('overlapping-shape');\nstate.sendForward(); // Move up one layer to appear above neighbor\n"})}),"\n",(0,s.jsx)(n.h3,{id:"subpath-rendering-order",children:"Subpath Rendering Order"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Change rendering order of subpaths (e.g., holes in compound paths)\nstate.setActivePlugin('subpath');\nstate.selectSubpath({ elementId: 'compound-path', subpathIndex: 1 });\nstate.sendSubpathToBack(); // Render first (becomes innermost hole)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"creating-depth-hierarchy",children:"Creating Depth Hierarchy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Organize elements by visual depth\nconst backgroundIds = ['bg-1', 'bg-2'];\nconst midgroundIds = ['mid-1', 'mid-2'];\nconst foregroundIds = ['fg-1', 'fg-2'];\n\n// Send backgrounds to back\nbackgroundIds.forEach(id => {\n  state.selectElement(id);\n  state.sendToBack();\n});\n\n// Bring foregrounds to front\nforegroundIds.forEach(id => {\n  state.selectElement(id);\n  state.bringToFront();\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(n.p,{children:["Z-index ordering is covered by E2E tests in ",(0,s.jsx)(n.code,{children:"tests/order.spec.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"test('should arrange elements using bring to front and send to back', async ({ page }) => {\n  // Create two overlapping shapes with different colors\n  // Verify initial Z-order by fill colors\n  \n  // Select first shape and bring to front\n  await bringToFrontButton.click();\n  \n  // Verify first shape now has higher Z-index\n  const afterBringToFront = await getElementOrder(page);\n  expect(redElement.zIndex).toBeGreaterThan(blueElement.zIndex);\n  \n  // Send first shape to back\n  await sendToBackButton.click();\n  \n  // Verify first shape now has lower Z-index\n  const afterSendToBack = await getElementOrder(page);\n  expect(redElement.zIndex).toBeLessThan(blueElement.zIndex);\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/ttpe/docs/features/selection",children:"Selection System"})," - Element selection"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/ttpe/docs/features/groups",children:"Groups"})," - Group hierarchies and Z-index"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/ttpe/docs/app-structure/sidebar",children:"Arrange Panel"})," - UI controls"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/ttpe/docs/plugins/catalog/select",children:"Select Plugin"})," - Select mode ordering"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/ttpe/docs/plugins/catalog/subpath",children:"Subpath Plugin"})," - Subpath ordering"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../api/canvas-store",children:"Canvas Store API"})," - Order slice methods"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);